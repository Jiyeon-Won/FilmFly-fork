<!doctype html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>FilmFly</title>
  <!-- 부트 스트랩 -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
        rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
        crossorigin="anonymous">
  <!-- jQuery -->
  <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  <!-- 공통 헤더 -->
  <script src="../js/common.js"></script>
  <!-- Font Awesome -->
  <link rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css">

  <link rel="stylesheet" href="../css/reset.css">
  <link rel="stylesheet" href="../css/style.css">
</head>
<body>
<div class="auth-form">
  <form id="auth-form">
    <h2>Sign Up</h2>
    <label for="username">username</label>
    <div class="input-group mb-3">
      <input type="text" id="username" class="form-control" placeholder="아이디" required>
    </div>

    <label for="password">password</label>
    <div class="input-group mb-3">
      <input type="password" id="password" class="form-control" placeholder="비밀번호" required>
    </div>

    <div>
      <div style="margin-bottom: 10px;">
        <label for="adminCheck">관리자 로그인</label>
        <input type="checkbox" id="adminCheck" name="adminCheck">
      </div>
      <div id="adminPasswordForm" style="display: none">
        <label for="adminPassword">관리자 암호</label>
        <div class="input-group mb-3">
          <input type="password" id="adminPassword" class="form-control" placeholder="관리자 암호" required>
        </div>
      </div>
    </div>

    <button type="button" id="btnSignup" class="btn btn-primary">회원가입</button>
    <button type="button" class="btn btn-primary"
            onclick="location.href='./login.html'">로그인 하러 가기
    </button>
  </form>
</div>

<script>
  $('#btnSignup').on('click', function () {
    const username = $('#username').val();
    const password = $('#password').val();
    const adminPassword = $('#adminPassword').val();

    const data = {
      username: username,
      password: password
    };

    $.ajax({
      type: 'post',
      url: '',
      data: JSON.stringify(data),
      contentType: "application/json;charset=utf-8"
    })
    .done(function (result, status, xhr) {
      location.replace("/");
    })
    .fail(function (xhr, status, er) {
      alert("회원가입 실패");
    });
  });

  $('#adminCheck').on('click', function () {
    $('#adminPasswordForm').toggle();
  });
</script>
</body>
</html>