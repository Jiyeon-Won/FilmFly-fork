<!doctype html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>FilmFly</title>

  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/summernote@0.8.20/dist/summernote-lite.min.css">
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/summernote@0.8.20/dist/summernote-lite.min.js"></script>
  <!-- language pack -->
  <script src="https://cdn.jsdelivr.net/npm/summernote@0.8.20/dist/lang/summernote-ko-KR.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.bundle.min.js"></script>
</head>
<body>
<input type="text" id="inputBoardTitle" class="w-100 p-2 mb-2" placeholder="제목">
<textarea id="summernote"></textarea>
<button id="btnSaveBoard" class="btn btn-primary mt-3">저장</button>

<script src="../js/summernote.js"></script>
<script>
  /* Security 해줘야 됨
  .requestMatchers("/front/**", "/image/upload", "/temp/**").permitAll()
   */

  const urlParams = new URL(location.href).searchParams;
  let movieId;
  if (urlParams.get('edit')) {
    movieId = urlParams.get('movie');
    $('#inputBoardTitle').val('수정할 게시물 제목');
    $("#summernote").summernote('code',  'zzzzzzzz');
    $('#btnSaveBoard').text('수정');
  }

  $('#btnSaveBoard').on('click', function () {
    let title = $('#inputBoardTitle').val();
    let content = $('#summernote').val();

    const data = {
      title: title,
      content: content
    }
    alert(JSON.stringify(data));

    // $.ajax({
    //   type: 'POST',
    //   url: '',
    //   data: JSON.stringify(data),
    //   contentType: "application/json;charset=utf-8"
    // })
    // .done(function (result, status, xhr) {
    //   // location.replace("./");
    // })
    // .fail(function (xhr, status, er) {
    //   alert("좋아요 취소 실패");
    // });
  });
</script>
</body>
</html>